학습 링크: https://zeroco.tistory.com/103

HATEOAS
---
HATEOAS는 REST 아키텍처의 한 가지 중요한 원칙으로, `Hypermedia as the Engine of Application State`의 약자이다.

`HATEOAS`는 응답으로 전달되는 데이터에 `링크 정보를 포함`시켜 클라이언트가 `다음 가능한 동작`과 `API의 상태 전이`를 이해하고 탐색할 수 있도록 한다.

HATEOAS는 API가 자기 설명적이어야 한다는 원칙을 강조한다.

클라이언트가 API에 대한 완전한 이해 없이도 응답을 통해 어떤 동작을 수행할 수 있는지를 파악할 수 있어야 한다. 이를 위해 응답에는 현재 리소스와 관련된 동작을 수행할 수 있는 링크들이 포함되어 있어야 한다.

예를 들어, 사용자 정보를 나타내는 RESTful API가 있다고 가정해보자.

클라이언트가 이 API로 사용자 정보를 요청하면, 서버는 해당 사용자의 정보뿐만 아니라 해당 사용자 정보를 업데이트하거나 삭제하는 링크도 함께 응답에 포함시킨다. 클라이언트는 이 링크를 통해 자원을 조작할 수 있는 다양한 동작을 알 수 있고, 필요한 경우 해당 링크를 따라가 API를 사용할 수 있다.

이러한 방식으로 HATEOAS는 API의 변경에 유연하게 대처하면서도 클라이언트와 서버 간의 상호작용을 용이하게 만들어 준다.

클라이언트는 서버와 강한 결합 없이도 API의 변경을 인지하고 활용할 수 있으며, API의 적절한 사용을 도와준다.

`HATEOAS`의 목표: 높은 수준에서 Client와 Server를 분리시키는 것, 의존성을 줄여 Client와 Server 각각 독립적으로 개발하는 것을 목적으로 한다.

#### 장점
- 서버에서 url를 변경해도 client에 영향이 없다.
- API를 제공할 때 사용자에게 documentation을 제공해줄 수 있다.
- Front단에서 link가 있느냐 없느냐에 따라서 다양한 UI에 사용할 수 있다. (link가 없으면 버튼을 disabled)


#### 단점
- 전달되는 data 크기가 커져서 네트워크 오버헤드가 생김
- 링크가 많이 복잡해짐



#### 예시

URI: /users/123 <br>
응답:
```
{
    "id": 123,
    "name": "John Doe",
    "email": "john@example.com",
    "links": [
        {
            "rel": "self",
            "href": "/users/123"
        },
        {
            "rel": "update",
            "href": "/users/123"
        },
        {
            "rel": "delete",
            "href": "/users/123"
        }
    ]
}
```

클라이언트가 HATEOAS를 활용하는 과정
---
1. **응답 데이터 파싱**: 클라이언트는 서버로부터 받은 응답 데이터를 파싱하여 사용자 정보 및 링크 정보를 추출한다.
2. **링크 정보 활용**: 추출한 링크 정보를 활용하여 다음 동작을 수행할 수 있는 URL을 얻는다. 링크 정보는 각각의 동작에 대한 URI를 포함하고 있으며, 이를 이용하여 클라이언트는 어떤 동작을 어떤 URI를 통해 수행할 수 있는지를 파악한다.
3. **HTTP 요청**: 클라이언트는 해당 URI로 HTTP 요청을 보낸다. 예를 들어, update 링크를 이용하여 사용자 정보 업데이트를 수행하려면 해당 URI로 PUT 또는 PATCH 메서드의 요청을 보낼 수 있다.
4. **서버 응답 처리**: 서버는 해당 요청을 받아 처리하고, 적절한 응답을 반환한다. 이 응답은 다시 클라이언트에게 돌아온다.

이 과정에서 HATEOAS가 제공하는 링크 정보를 활용하여 클라이언트는 다음 동작을 수행하며, API의 상태 전이를 이해하고 탐색할 수 있다.

HATEOAS를 이용하면 클라이언트는 API의 상태 전이를 알고 있지 않아도 된다.

대신, 서버가 제공하는 링크 정보를 따라가며 필요한 동작을 수행할 수 있다. 이는 클라이언트와 서버 간의 상호작용을 더 유연하게 만들어주는 핵심적인 장점 중 하나이다.