Django
---
빅프로젝트 때 Django를 이용하여 개발했는데, 면접 볼 때 왜 사용했는지 물어보실 것 같아서 미리 정리해본다.

1. **생산성과 효율성**: Django는 개발자들이 보일러플레이트 코드를 작성하지 않고도 빠르게 웹 애플리케이션을 구축할 수 있도록 한다. **관리자 페이지, 인증 시스템, 데이터베이스 관리** 등 기본적인 기능을 내장하고 있어 개발 시간을 단축시키고 효율적으로 작업할 수 있다.

2. **커뮤니티와 생태계**: Django는 활발한 커뮤니티와 다양한 확장 기능, 라이브러리를 갖추고 있다. 문서화가 잘 되어 있어 새로운 기능을 배우고 문제를 해결하기가 비교적 용이하다.

3. **MVC 아키텍처**: Django는 Model-View-Controller(MVC) 아키텍처의 변형인 MTV(Model-Template-View) 아키텍처를 사용한다. 이를 통해 데이터 모델링과 프레젠테이션 로직을 분리하여 유지보수와 확장성을 높일 수 있다.

4. **보안**: Django는 기본적으로 보안에 중점을 둔 프레임워크이다. SQL Injection, CSRF(Cross-Site Request Forgery), XSS(Cross-Site Scripting) 등의 보안 취약점으로부터 애플리케이션을 보호할 수 있는 기능을 제공한다.

5. **ORM과 데이터베이스 관리**: Django는 ORM(Object-Relational Mapping)을 통해 데이터베이스와의 상호 작용을 추상화하고, 다양한 데이터베이스와 호환되는 인터페이스를 제공한다. 이를 통해 데이터베이스 관리가 용이하며 유지보수가 간편해진다.

6. **확장성**: Django는 애플리케이션을 모듈화하고 재사용 가능한 컴포넌트로 나누어 개발할 수 있도록 하는 구조를 지원한다. 이를 통해 애플리케이션의 확장성을 높일 수 있다.

7. **성능 최적화**: Django는 캐싱, 데이터베이스 쿼리 최적화, 성능 모니터링 도구 등을 제공하여 웹 애플리케이션의 성능을 향상시킬 수 있는 방법을 제공한다.

<br><br>

---
<br><br>

### 보일러플레이트 코드
보일러플레이트 코드는 어떤 프로그래밍 언어나 프레임워크에서 반복적으로 사용되는, 공통적인 형식이나 구조의 코드를 말한다.

이러한 코드는 특정한 작업이나 패턴을 반복해서 구현해야 할 때 발생하며, 실제 애플리케이션 로직이나 핵심 기능과는 직접적인 관련이 없는 경우가 많다.

보일러플레이트 코드는 기본적인 설정, 초기화 작업, 표준 패턴 구현 등을 포함할 수 있다. 예를 들어 HTML 문서의 구조나 CSS 스타일, 서버 프레임워크의 초기 설정, 데이터베이스 연결 등이 있다.

이러한 보일러플레이트 코드를 사용하면 반복적인 작업을 줄이고 초기 개발 단계에서 편리함을 제공할 수 있다.

하지만 보일러플레이트 코드가 지나치게 많아지면 코드의 가독성과 유지보수가 어려워질 수 있다.

<br><br>

### SQL Injection
SQL Injection은 웹 애플리케이션에서 발생할 수 있는 보안 취약점 중 하나로, 악의적인 사용자가 웹 애플리케이션의 입력 폼 등을 통해 SQL 쿼리를 조작하여 데이터베이스에 비정상적인 접근을 시도하는 공격이다.

사용자가 입력하는 데이터를 그대로 SQL 쿼리에 포함시키거나, 따옴표 등의 문자를 이용하여 SQL 쿼리의 구조를 변조시키는 것이 주요한 공격 방법이다.

원래의 SQL 쿼리:
```
SELECT * FROM users WHERE username = '입력한아이디' AND password = '입력한비밀번호';
```

변조 후:
```
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '입력한비밀번호';
```

이러면 변조된 SQL 쿼리는 항상 참이 되므로 모든 사용자가 로그인에 성공하는 것처럼 동작하게 되고, 공격자는 인증 없이 시스템이 접근할 수 있게 된다.

**그럼 Django가 왜 SQL Injection에 강하지?**
1. 우선 Django는 ORM을 사용한다. ORM을 사용하면 SQL 쿼리를 직접 작성하지 않고도 Python 객체와 DB 테이블을 매핑할 수 있다. 그렇다면 사용자 입력을 쿼리에 직접 삽입하지 않아도 되며, ORM을 통해 생성된 쿼리는 장고 자체적으로 SQL Injection에 대한 방어를 수행한다.
2. Django ORM은 쿼리에서 입력값을 처리할 때 Placeholder를 사용하는데, 이 플레이스홀더는 입력값을 안전하게 처리하여 SQL Injection을 방지한다.
3. Django는 쿼리 파라미터화(Query Parameterization)를 통해 사용자 입력을 쿼리에 추가할 때, 안전한 방식으로 처리한다.

Placeholder란 다음과 같다.
```
import sqlite3

conn = sqlite3.connect('mydatabase.db')
cursor = conn.cursor()

user_id = 123
cursor.execute('SELECT * FROM users WHERE id = ?', (user_id,))
```
위 코드에서 ``?``가 플레이스홀더이며, Django ORM은 플레이스홀더를 사용해 쿼리를 생성하고 SQL Injection을 방지한다.

<br><br>

### CSRF(Cross-Site Request Forgery)
CSRF는 웹 애플리케이션 보안 공격 중 하나로 사용자가 자신의 의지와 무관하게 웹 애플리케이션에서 요청을 보내도록 유도하는 공격이다.

다음과 같은 순서로 공격된다.
1. **사용자 인증**: 사용자는 정상적으로 웹 애플리케이션에 로그인한다.
2. **악성 사이트 접속**: 사용자가 다른 웹사이트에 접속하여 공격자가 만든 악성 페이지를 방문한다. 이 페이지는 사용자의 애플리케이션 세션을 이용하여 의도하지 않은 요청을 보낼 수 있는 코드를 포함하고 있다.
3. **악성 요청 실행**: 악성 페이지의 코드는 사용자의 세션 정보를 가지고 웹 애플리케이션에 악의적인 요청을 보낸다. 이 요청은 사용자의 권한으로 실행되기 때문에, 사용자는 이에 대해 알지 못한다.

Django는 기본적으로 CSRF 공격을 막기 위한 보안 기능을 제공한다. 기본적으로 Django의 프로젝트 템플릿과 뷰에서 CSRF 보호가 자동으로 적용된다.

<br><br>

### XSS(Cross-Site Scripting)
XSS는 공격자가 악의적인 스크립트를 웹 페이지에 삽입하여 사용자의 브라우저에서 실행되도록 하는 공격이다. 이를 통해 사용자의 세션 정보나 개인정보를 탈취하거나 다른 악의적인 동작을 수행할 수 있다.

XSS 공격의 주요 원리와 유형은 다음과 같다.
1. **Stored(Persistent) XSS**: 악의적인 스크립트가 웹 서버에 저장되어 다른 사용자들이 해당 페이지를 방문할 때 실행되는 공격이다. 주로 게시판과 댓글과 같이 사용자의 입력이 저장되는 곳에서 발생할 수 있다.
2. **Reflected(Non-Persistent) XSS**: 사용자가 악의적인 링크를 클릭하거나 특정 입력을 보낼 때, 해당 입력이 서버에서 동적으로 생성되는 응답에 반영되어 실행되는 공격이다. 흔히 검색 쿼리나 URL 매개변수를 통해 발생할 수 있다.
3. **DOM-based XSS**: DOM(Document Object Model)을 조작하여 스크립트를 삽입하여 실행되도록 하는 공격이다. 서버로부터 오는 응답이 아닌 클라이언트 측에서 발생하는 취약점으로, 주로 JavaScript 코드에서 DOM 조작이 일어나는 경우에 발생한다.

Django는 자동으로 XSS 공격에 대한 보호 메커니즘이 적용된다.

API 서버에서도 동일하게 적용된다.

1. **입력 검증과 이스케이핑**: API 요청의 입력 값에 대해 검증을 수행하고, 이스케이핑을 적용하여 악의적인 스크립트가 실행되지 않도록 한다.
2. **CSP(Content Security Policy) 설정**: API 응답에서 스크립트 실행과 관련된 부분을 제어하기 위해 CSP 설정을 적용할 수 있다.
3. **사용자 입력 필터링**: API 요청에서 사용자 입력을 필터링하여 악의적인 스크립트가 포함되지 않도록 처리한다.
4. **HTTP-Only 쿠키 사용**: API서버에서도 중요한 세션 쿠키는 HTTP-Only 속성으로 설정하여 JavaScript에서 접근할 수 없도록 보호해야 한다.

<br><br>

정리하자면
---
Django를 사용했던 이유는 ``SQL Injection, CSRF 공격, XSS 공격 방지 등의 기능이 기본적으로 내재되어 있어 보안이 우수``하고, ``파이썬에서 개발된 AI를 바로 적용하기 쉬웠으며``, ``보일러플레이트 코드 없이도 빠르게 개발할 수 있고``, ``MVT 패턴으로 유지보수와 확장성을 높일 수 있고``, ``ORM을 통해 DB 관리가 용이하고 유지보수가 간편``하다.